(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{334:function(e,r,v){"use strict";v.r(r);var s=v(10),t=Object(s.a)({},(function(){var e=this,r=e.$createElement,v=e._self._c||r;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"webpack-devserver-配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack-devserver-配置"}},[e._v("#")]),e._v(" webpack devServer 配置")]),e._v(" "),v("p",[e._v("通过来自 "),v("code",[e._v("webpack-dev-server")]),e._v(" 的这些选项，能够用多种方式改变其行为。这里有一个简单的例子，所有来自 "),v("code",[e._v("dist/")]),e._v(" 目录的文件都做 "),v("code",[e._v("gzip")]),e._v(" 压缩和提供为服务")]),e._v(" "),v("div",{staticClass:"language-js extra-class"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[e._v("devServer"),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  contentBase"),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" path"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[e._v("join")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("__dirname"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[e._v('"dist"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  compress"),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),v("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  port"),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[e._v("9000")]),e._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),v("h2",{attrs:{id:"devserver-color"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-color"}},[e._v("#")]),e._v(" devServer.color")]),e._v(" "),v("p",[v("code",[e._v("devServer.color - CLI only")])]),e._v(" "),v("div",{staticClass:"language-js extra-class"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[e._v("webpack"),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("dev"),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("server "),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("color\n")])])]),v("h2",{attrs:{id:"devserver-compress"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-compress"}},[e._v("#")]),e._v(" devServer.compress")]),e._v(" "),v("p",[e._v("一切服务都启用 gzip 压缩： "),v("code",[e._v("compress: true")])]),e._v(" "),v("p",[v("code",[e._v("webpack-dev-server --compress")])]),e._v(" "),v("h2",{attrs:{id:"devserver-contentbase"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-contentbase"}},[e._v("#")]),e._v(" devServer.contentBase")]),e._v(" "),v("p",[e._v("默认情况下，将使用当前工作目录作为提供内容的目录，但是你可以修改为其他目录")]),e._v(" "),v("p",[v("code",[e._v('contentBase: path.join(__dirname, "public")')])]),e._v(" "),v("h2",{attrs:{id:"devserver-historyapifallback"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-historyapifallback"}},[e._v("#")]),e._v(" devServer.historyApiFallback")]),e._v(" "),v("p",[e._v("当使用 "),v("code",[e._v("HTML5 History API")]),e._v(" 时，任意的 "),v("code",[e._v("404")]),e._v(" 响应都可能需要被替代为 i"),v("code",[e._v("ndex.html")])]),e._v(" "),v("h2",{attrs:{id:"devserver-host"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-host"}},[e._v("#")]),e._v(" devServer.host")]),e._v(" "),v("p",[e._v("指定使用一个 host。默认是 localhost。如果你希望服务器外部可访问，指定如下")]),e._v(" "),v("p",[v("code",[e._v('host: "0.0.0.0"')])]),e._v(" "),v("h2",{attrs:{id:"devserver-hot"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-hot"}},[e._v("#")]),e._v(" devServer.hot")]),e._v(" "),v("p",[e._v("启用 "),v("code",[e._v("webpack")]),e._v(" 的模块热替换特性："),v("code",[e._v("hot:true")])]),e._v(" "),v("h2",{attrs:{id:"devserver-https"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-https"}},[e._v("#")]),e._v(" devServer.https")]),e._v(" "),v("p",[e._v("默认情况下，"),v("code",[e._v("dev-server")]),e._v(" 通过 "),v("code",[e._v("HTTP")]),e._v(" 提供服务。也可以选择带有 "),v("code",[e._v("HTTPS")]),e._v(" 的 "),v("code",[e._v("HTTP/2")]),e._v(" 提供服务\n"),v("code",[e._v("https: true")])]),e._v(" "),v("h2",{attrs:{id:"devserver-index"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-index"}},[e._v("#")]),e._v(" devServer.index")]),e._v(" "),v("p",[v("code",[e._v("index: 'index.html")])]),e._v(" "),v("h2",{attrs:{id:"devserver-inline"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-inline"}},[e._v("#")]),e._v(" devServer.inline")]),e._v(" "),v("p",[e._v("当启用 "),v("code",[e._v("lazy")]),e._v(" 时，"),v("code",[e._v("dev-server")]),e._v(" 只有在请求时才编译包("),v("code",[e._v("bundle")]),e._v(")。这意味着 "),v("code",[e._v("webpack")]),e._v(" 不会监视任何文件改动。我们称之为“惰性模式”")]),e._v(" "),v("h2",{attrs:{id:"devserver-open"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-open"}},[e._v("#")]),e._v(" devServer.open")]),e._v(" "),v("p",[e._v("启用打开后，开发服务器将打开浏览器")]),e._v(" "),v("h2",{attrs:{id:"devserver-port"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-port"}},[e._v("#")]),e._v(" devServer.port")]),e._v(" "),v("p",[e._v("指定要监听请求的端口号")]),e._v(" "),v("h2",{attrs:{id:"devserver-proxy"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-proxy"}},[e._v("#")]),e._v(" devServer.proxy")]),e._v(" "),v("p",[e._v("果你有单独的后端开发服务器 "),v("code",[e._v("API")]),e._v("，并且希望在同域名下发送 "),v("code",[e._v("API")]),e._v(" 请求 ，那么代理某些 "),v("code",[e._v("URL")]),e._v(" 会很有用。")]),e._v(" "),v("p",[v("code",[e._v("dev-server")]),e._v(" 使用了非常强大的 "),v("code",[e._v("http-proxy-middleware")]),e._v(" 包。")]),e._v(" "),v("h2",{attrs:{id:"devserver-progress"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-progress"}},[e._v("#")]),e._v(" devServer.progress")]),e._v(" "),v("p",[e._v("将运行进度输出到控制台。")]),e._v(" "),v("p",[v("code",[e._v("webpack-dev-server --progress")])]),e._v(" "),v("h2",{attrs:{id:"devserver-publicpath"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-publicpath"}},[e._v("#")]),e._v(" devServer.publicPath")]),e._v(" "),v("p",[e._v("此路径下的打包文件可在浏览器中访问")]),e._v(" "),v("p",[e._v("可以修改 "),v("code",[e._v("publicPath，将")]),e._v(" "),v("code",[e._v("bundle")]),e._v(" 放在一个目录")]),e._v(" "),v("p",[v("code",[e._v("devServer.publicPath 和 output.publicPath 一样被推荐。")])]),e._v(" "),v("h2",{attrs:{id:"devserver-uselocalip"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-uselocalip"}},[e._v("#")]),e._v(" devServer.useLocalIp")]),e._v(" "),v("p",[e._v("此选项使浏览器可以使用您的本地 "),v("code",[e._v("IP")]),e._v(" 打开")]),e._v(" "),v("h2",{attrs:{id:"devserver-inline-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver-inline-2"}},[e._v("#")]),e._v(" devServer.inline")]),e._v(" "),v("p",[e._v("在 "),v("code",[e._v("dev-server")]),e._v(" 的两种不同模式之间切换。默认情况下，应用程序启用内联模式("),v("code",[e._v("inline mode")]),e._v(")。这意味着一段处理实时重载的脚本被插入到你的包("),v("code",[e._v("bundle")]),e._v(")中，并且构建消息将会出现在浏览器控制台")])])}),[],!1,null,null,null);r.default=t.exports}}]);