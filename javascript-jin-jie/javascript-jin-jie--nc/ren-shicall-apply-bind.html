<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>认识call apply bind | 深入前端学习</title>
    <meta name="description" content="前端进阶学习 JavaScript数据结构 前端工程化">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.eb71d6de.css" as="style"><link rel="preload" href="/assets/js/app.d97aa468.js" as="script"><link rel="preload" href="/assets/js/2.b8ed37c3.js" as="script"><link rel="preload" href="/assets/js/97.cc728fc4.js" as="script"><link rel="prefetch" href="/assets/js/10.b0fbc02d.js"><link rel="prefetch" href="/assets/js/100.685ae5d3.js"><link rel="prefetch" href="/assets/js/101.59d1e30a.js"><link rel="prefetch" href="/assets/js/102.a9bcb575.js"><link rel="prefetch" href="/assets/js/103.e9a27594.js"><link rel="prefetch" href="/assets/js/104.d5215480.js"><link rel="prefetch" href="/assets/js/105.ba47f600.js"><link rel="prefetch" href="/assets/js/106.2813c78b.js"><link rel="prefetch" href="/assets/js/107.4d85a99f.js"><link rel="prefetch" href="/assets/js/108.746d42dc.js"><link rel="prefetch" href="/assets/js/109.e1e7eac5.js"><link rel="prefetch" href="/assets/js/11.89d2dd9d.js"><link rel="prefetch" href="/assets/js/110.b84ad071.js"><link rel="prefetch" href="/assets/js/111.be521518.js"><link rel="prefetch" href="/assets/js/112.c5f3ecf2.js"><link rel="prefetch" href="/assets/js/113.ac6eb011.js"><link rel="prefetch" href="/assets/js/114.26fb9e49.js"><link rel="prefetch" href="/assets/js/115.6868f2b3.js"><link rel="prefetch" href="/assets/js/116.785f4db8.js"><link rel="prefetch" href="/assets/js/117.bd2cabf4.js"><link rel="prefetch" href="/assets/js/118.d97ae399.js"><link rel="prefetch" href="/assets/js/119.c4048771.js"><link rel="prefetch" href="/assets/js/12.e4cc17b5.js"><link rel="prefetch" href="/assets/js/120.d1ea8260.js"><link rel="prefetch" href="/assets/js/121.928a203a.js"><link rel="prefetch" href="/assets/js/122.72894fa4.js"><link rel="prefetch" href="/assets/js/123.2d6925fa.js"><link rel="prefetch" href="/assets/js/124.4bdcc56e.js"><link rel="prefetch" href="/assets/js/125.b240ed72.js"><link rel="prefetch" href="/assets/js/126.e8210ef2.js"><link rel="prefetch" href="/assets/js/127.90cda23d.js"><link rel="prefetch" href="/assets/js/128.1c78db7d.js"><link rel="prefetch" href="/assets/js/129.403aee79.js"><link rel="prefetch" href="/assets/js/13.b78d5fb2.js"><link rel="prefetch" href="/assets/js/130.9138708f.js"><link rel="prefetch" href="/assets/js/131.6f81fb6c.js"><link rel="prefetch" href="/assets/js/132.f1f66b6b.js"><link rel="prefetch" href="/assets/js/133.6c00ecd2.js"><link rel="prefetch" href="/assets/js/134.0f1cfc85.js"><link rel="prefetch" href="/assets/js/135.0458c13e.js"><link rel="prefetch" href="/assets/js/136.82db2f57.js"><link rel="prefetch" href="/assets/js/137.744d25fb.js"><link rel="prefetch" href="/assets/js/138.ae30d999.js"><link rel="prefetch" href="/assets/js/139.6aba53d1.js"><link rel="prefetch" href="/assets/js/14.b42e94f3.js"><link rel="prefetch" href="/assets/js/140.4d922eac.js"><link rel="prefetch" href="/assets/js/141.f590e842.js"><link rel="prefetch" href="/assets/js/142.cd20ae34.js"><link rel="prefetch" href="/assets/js/143.3420d1b6.js"><link rel="prefetch" href="/assets/js/144.fcb5e2d0.js"><link rel="prefetch" href="/assets/js/145.c84cdbfc.js"><link rel="prefetch" href="/assets/js/146.4d387e18.js"><link rel="prefetch" href="/assets/js/147.536309ca.js"><link rel="prefetch" href="/assets/js/15.92eba5b1.js"><link rel="prefetch" href="/assets/js/16.8c2832cb.js"><link rel="prefetch" href="/assets/js/17.bb7047e5.js"><link rel="prefetch" href="/assets/js/18.37d50f55.js"><link rel="prefetch" href="/assets/js/19.9c2a5d3d.js"><link rel="prefetch" href="/assets/js/20.18e13265.js"><link rel="prefetch" href="/assets/js/21.4c2b2be5.js"><link rel="prefetch" href="/assets/js/22.3be056b6.js"><link rel="prefetch" href="/assets/js/23.b86e836f.js"><link rel="prefetch" href="/assets/js/24.22693865.js"><link rel="prefetch" href="/assets/js/25.c84ceb92.js"><link rel="prefetch" href="/assets/js/26.3bbbc299.js"><link rel="prefetch" href="/assets/js/27.28742116.js"><link rel="prefetch" href="/assets/js/28.d24e2669.js"><link rel="prefetch" href="/assets/js/29.7726e760.js"><link rel="prefetch" href="/assets/js/3.db315dd8.js"><link rel="prefetch" href="/assets/js/30.3579f6a8.js"><link rel="prefetch" href="/assets/js/31.bd027530.js"><link rel="prefetch" href="/assets/js/32.5b726e59.js"><link rel="prefetch" href="/assets/js/33.68530bc9.js"><link rel="prefetch" href="/assets/js/34.126a2ae6.js"><link rel="prefetch" href="/assets/js/35.251c4687.js"><link rel="prefetch" href="/assets/js/36.67e141a8.js"><link rel="prefetch" href="/assets/js/37.a2314517.js"><link rel="prefetch" href="/assets/js/38.a11ede48.js"><link rel="prefetch" href="/assets/js/39.3b7062d3.js"><link rel="prefetch" href="/assets/js/4.bee55229.js"><link rel="prefetch" href="/assets/js/40.485cda16.js"><link rel="prefetch" href="/assets/js/41.ef2f00a4.js"><link rel="prefetch" href="/assets/js/42.2fcba9a8.js"><link rel="prefetch" href="/assets/js/43.a56d6409.js"><link rel="prefetch" href="/assets/js/44.8fa34dd4.js"><link rel="prefetch" href="/assets/js/45.599c1832.js"><link rel="prefetch" href="/assets/js/46.aa317726.js"><link rel="prefetch" href="/assets/js/47.0dcef552.js"><link rel="prefetch" href="/assets/js/48.e93bbc24.js"><link rel="prefetch" href="/assets/js/49.c93cd259.js"><link rel="prefetch" href="/assets/js/5.d2697518.js"><link rel="prefetch" href="/assets/js/50.d177bd7c.js"><link rel="prefetch" href="/assets/js/51.229a8cf5.js"><link rel="prefetch" href="/assets/js/52.56c1077e.js"><link rel="prefetch" href="/assets/js/53.0c7ed22b.js"><link rel="prefetch" href="/assets/js/54.09d6218c.js"><link rel="prefetch" href="/assets/js/55.3fb26d1d.js"><link rel="prefetch" href="/assets/js/56.285a3681.js"><link rel="prefetch" href="/assets/js/57.1706492c.js"><link rel="prefetch" href="/assets/js/58.fd62bdd2.js"><link rel="prefetch" href="/assets/js/59.4da5b13b.js"><link rel="prefetch" href="/assets/js/6.36fa39fd.js"><link rel="prefetch" href="/assets/js/60.27cb5d2e.js"><link rel="prefetch" href="/assets/js/61.e011772a.js"><link rel="prefetch" href="/assets/js/62.38aedaaf.js"><link rel="prefetch" href="/assets/js/63.98c2a33a.js"><link rel="prefetch" href="/assets/js/64.d3e75daa.js"><link rel="prefetch" href="/assets/js/65.9f2e9db6.js"><link rel="prefetch" href="/assets/js/66.81c476bd.js"><link rel="prefetch" href="/assets/js/67.2779a28e.js"><link rel="prefetch" href="/assets/js/68.8b6a13c9.js"><link rel="prefetch" href="/assets/js/69.c4f8c7eb.js"><link rel="prefetch" href="/assets/js/7.f222a103.js"><link rel="prefetch" href="/assets/js/70.6d8d9eae.js"><link rel="prefetch" href="/assets/js/71.ed91af88.js"><link rel="prefetch" href="/assets/js/72.8d71392a.js"><link rel="prefetch" href="/assets/js/73.ca4057b9.js"><link rel="prefetch" href="/assets/js/74.46c4f123.js"><link rel="prefetch" href="/assets/js/75.7863258d.js"><link rel="prefetch" href="/assets/js/76.115088e5.js"><link rel="prefetch" href="/assets/js/77.1a327075.js"><link rel="prefetch" href="/assets/js/78.c2298758.js"><link rel="prefetch" href="/assets/js/79.0a9f8f83.js"><link rel="prefetch" href="/assets/js/8.944513ba.js"><link rel="prefetch" href="/assets/js/80.31c21877.js"><link rel="prefetch" href="/assets/js/81.814e5c34.js"><link rel="prefetch" href="/assets/js/82.23fc2de5.js"><link rel="prefetch" href="/assets/js/83.18e43aa8.js"><link rel="prefetch" href="/assets/js/84.56eeaefd.js"><link rel="prefetch" href="/assets/js/85.2802cf7e.js"><link rel="prefetch" href="/assets/js/86.553e6872.js"><link rel="prefetch" href="/assets/js/87.6bb9f1f5.js"><link rel="prefetch" href="/assets/js/88.2655130a.js"><link rel="prefetch" href="/assets/js/89.6be9a833.js"><link rel="prefetch" href="/assets/js/9.994351b2.js"><link rel="prefetch" href="/assets/js/90.a66e656f.js"><link rel="prefetch" href="/assets/js/91.27408d28.js"><link rel="prefetch" href="/assets/js/92.8b3bf2f2.js"><link rel="prefetch" href="/assets/js/93.587e74cf.js"><link rel="prefetch" href="/assets/js/94.23984853.js"><link rel="prefetch" href="/assets/js/95.365bca71.js"><link rel="prefetch" href="/assets/js/96.60b49af2.js"><link rel="prefetch" href="/assets/js/98.d666ccff.js"><link rel="prefetch" href="/assets/js/99.b011d256.js">
    <link rel="stylesheet" href="/assets/css/0.styles.eb71d6de.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">深入前端学习</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/html-yucss/" class="nav-link">
  Html与css
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/javascript-jin-jie/" class="nav-link router-link-active">
  Javascript进阶
</a></div><div class="nav-item"><a href="/http/" class="nav-link">
  Http
</a></div><div class="nav-item"><a href="/qian-duan-gong-cheng-hua/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/qi-ta/" class="nav-link">
  其他
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/html-yucss/" class="nav-link">
  Html与css
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/javascript-jin-jie/" class="nav-link router-link-active">
  Javascript进阶
</a></div><div class="nav-item"><a href="/http/" class="nav-link">
  Http
</a></div><div class="nav-item"><a href="/qian-duan-gong-cheng-hua/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/qi-ta/" class="nav-link">
  其他
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/javascript-jin-jie/" class="sidebar-link">JavaScript进阶学习</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javascript数据结构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/dan-xiang-lian-biao.html" class="sidebar-link">单向链表</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/shuang-xiang-lie-biao.html" class="sidebar-link">双向链表</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/zhan.html" class="sidebar-link">栈</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/dui-lie.html" class="sidebar-link">队列</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/ha-xi-biao.html" class="sidebar-link">哈希表</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/er-cha-shu.html" class="sidebar-link">二叉树</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/shu-ju-lei-xingnull-heundefinde.html" class="sidebar-link">数据类型 null&amp;undefined</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/shu-ju-lei-xingnumber-xue-xi.html" class="sidebar-link">数据类型 Number</a></li><li><a href="/javascript-jin-jie/javascript-shu-ju-jie-gou--nc/map-xue-xi.html" class="sidebar-link">数据结构-Map学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javascript 刷题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xiereduce.html" class="sidebar-link">手写 reduce</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/sui-ji-sheng-cheng-bu-chong-fu-shu.html" class="sidebar-link">随机成成不重复数字</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/dan-diao-shu-zu.html" class="sidebar-link">单调数组</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/jie-liu-he-fang-dou-han-shu.html" class="sidebar-link">节流和防抖</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/fa-bu-ding-yue-shi-xian.html" class="sidebar-link">发布订阅模式与观察者模式</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xiecall.html" class="sidebar-link">手写 call</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xieapply.html" class="sidebar-link">手写 apply</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xiebind.html" class="sidebar-link">手写 bind 方法</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/promise-shi-xian.html" class="sidebar-link">Promise 实现</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shen-kao-bei-yu-qian-kao-bei.html" class="sidebar-link">深拷贝与浅拷贝</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/js-lei-xing-pan-duan.html" class="sidebar-link">JS 类型判断</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shi-xian-yi-gesleep-han-shu.html" class="sidebar-link">实现一个 sleep 函数</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shi-xian-lian-shi-diao-yong.html" class="sidebar-link">链式调用实现 Lazyman 的调用</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shu-zu-da-xiao-jian-ban.html" class="sidebar-link">数组大小减半</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/xi-pai-suan-fa.html" class="sidebar-link">随机洗牌算法</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xieforeach.html" class="sidebar-link">手写 forEach</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xiefilter.html" class="sidebar-link">手写 filter</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xiefind.html" class="sidebar-link">手写 find</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xiesome.html" class="sidebar-link">手写 some</a></li><li><a href="/javascript-jin-jie/javascript--shua-ti--nc/shou-xieflat.html" class="sidebar-link">手写 flat 和 flatmap</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Javascript进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/javascript-ji-cheng.html" class="sidebar-link">JavaScript 继承</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html" class="active sidebar-link">认识call apply bind</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#apply" class="sidebar-link">apply</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#thisarg" class="sidebar-link">thisArg</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#argsarray" class="sidebar-link">argsArray</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#例子" class="sidebar-link">例子</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#call" class="sidebar-link">call</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#语法-2" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#thisarg-2" class="sidebar-link">thisArg</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#arg1-arg2" class="sidebar-link">arg1, arg2, ...</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#例子-2" class="sidebar-link">例子</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#bind" class="sidebar-link">bind</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#语法-3" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#thisarg-3" class="sidebar-link">thisArg</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#例子-3" class="sidebar-link">例子</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#call-apply与bind的区别" class="sidebar-link">call/apply与bind的区别</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#共同点" class="sidebar-link">共同点</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#引用场景" class="sidebar-link">引用场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#判断数据类型" class="sidebar-link">判断数据类型</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#类数组借用数组的方法" class="sidebar-link">类数组借用数组的方法</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#手写apply" class="sidebar-link">手写apply</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#手写-call" class="sidebar-link">手写 call</a></li><li class="sidebar-sub-header"><a href="/javascript-jin-jie/javascript-jin-jie--nc/ren-shicall-apply-bind.html#手写-bind" class="sidebar-link">手写 bind</a></li></ul></li></ul></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/javascript-yi-bu.html" class="sidebar-link">JavaScript 异步编程</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/promise.all-shi-yong.html" class="sidebar-link">Promise.all 使用</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/object.is-xue-xi.html" class="sidebar-link">JavaScript-Object.is</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/die-dai-qi-he-sheng-cheng-qi.html" class="sidebar-link">迭代器和生成器</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/mo-kuai-hua-bian-cheng.html" class="sidebar-link">模块化编程</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/li-jie-yuan-xing.html" class="sidebar-link">理解原型&amp;原型链</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/dom-shi-jian-ji-zhi.html" class="sidebar-link">DOM 事件机制</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/esxin-te-xing.html" class="sidebar-link">ES2020 新特性</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/han-shu-ke-li-hua.html" class="sidebar-link">函数柯里化</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/js-shi-jian-xun-huan.html" class="sidebar-link">JS 事件循环</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/qian-duan-an-quan.html" class="sidebar-link">前端安全</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/js-sha-xiang.html" class="sidebar-link">JS 沙箱</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/js-bian-liang-ti-sheng.html" class="sidebar-link">JS 变量提升</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/js-yan-ge-mo-shi.html" class="sidebar-link">JS 严格模式</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/promise-async-yield.html" class="sidebar-link">Promise-async-generator</a></li><li><a href="/javascript-jin-jie/javascript-jin-jie--nc/js--chuang-jian-dui-xiang.html" class="sidebar-link">JS-创建对象</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="认识call-apply-bind"><a href="#认识call-apply-bind" class="header-anchor">#</a> 认识<code>call apply bind</code></h1> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>函数原型链中的 apply，call 和 bind 方法是 JavaScript 中相当重要的概念，与 this 关键字密切相关.</p></div> <h2 id="apply"><a href="#apply" class="header-anchor">#</a> <code>apply</code></h2> <p><code>apply()</code>方法调用一个具有给定<code>this</code>值的函数，以及作为一个数组（或类似数组对象）提供的参数。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>call()</code>方法的作用和 <code>apply()</code> 方法类似，区别就是<code>call()</code>方法接受的是参数列表，而<code>apply()</code>方法接受的是一个参数数组。</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 7</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 2</span>
</code></pre></div><h3 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token punctuation">[</span>argsArray<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="thisarg"><a href="#thisarg" class="header-anchor">#</a> <code>thisArg</code></h3> <p>可选的。在 <code>func</code> 函数运行时使用的 <code>this</code>值。请注意，<code>this</code>可能不是该方法看到的实际值：如果这个函数处于非严格模式下，则指定为 <code>null</code> 或 <code>undefined</code> 时会自动替换为指向全局对象，原始值会被包装。</p> <h3 id="argsarray"><a href="#argsarray" class="header-anchor">#</a> <code>argsArray</code></h3> <p>可选的。一个数组或者类数组对象，其中的数组元素将作为单独的参数传给 <code>func</code> 函数。如果该参数的值为 <code>null</code> 或  <code>undefined</code>，则表示不需要传入任何参数。从<code>ECMAScript 5</code> 开始可以使用类数组对象.</p> <h3 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> elements<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span>elements<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
</code></pre></div><h2 id="call"><a href="#call" class="header-anchor">#</a> <code>call</code></h2> <p><code>call()</code> 方法使用一个指定的 <code>this</code> 值和单独给出的一个或多个参数来调用一个函数。</p> <h3 id="语法-2"><a href="#语法-2" class="header-anchor">#</a> 语法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="thisarg-2"><a href="#thisarg-2" class="header-anchor">#</a> <code>thisArg</code></h3> <p>thisArg
在 <code>fun</code> 函数运行时指定的 <code>this</code> 值。</p> <p>如果<code>this</code>的值是 <code>null</code>或者 <code>undefined</code> ,指向<code>window</code></p> <p><code>if(thisArg == undefined|null) this = window</code></p> <p>如果<code>this</code>的值是 <code>number|boolean|string</code> ,指向构造对象里面</p> <p><code>if(thisArg == number|boolean|string) this == new Number()|new Boolean()| new String()</code></p> <h3 id="arg1-arg2"><a href="#arg1-arg2" class="header-anchor">#</a> <code>arg1, arg2, ...</code></h3> <p>参数列表</p> <h3 id="例子-2"><a href="#例子-2" class="header-anchor">#</a> 例子</h3> <p>使用 <code>call</code> 方法调用父构造函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Product</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Food</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Product</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>category <span class="token operator">=</span> <span class="token string">'food'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Toy</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Product</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>category <span class="token operator">=</span> <span class="token string">'toy'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> cheese <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Food</span><span class="token punctuation">(</span><span class="token string">'feta'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toy</span><span class="token punctuation">(</span><span class="token string">'robot'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 <code>call</code> 方法调用函数并且指定上下文的 <code>this</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> reply <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>animal<span class="token punctuation">,</span> <span class="token string">'typically sleep between'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sleepDuration<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  animal<span class="token operator">:</span> <span class="token string">'cats'</span><span class="token punctuation">,</span> sleepDuration<span class="token operator">:</span> <span class="token string">'12 and 16 hours'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// cats typically sleep between 12 and 16 hours</span>
</code></pre></div><h2 id="bind"><a href="#bind" class="header-anchor">#</a> <code>bind</code></h2> <p><code>bind()</code>方法创建一个新的函数，在bind()被调用时，这个新函数的<code>this</code>被<code>bind</code>的第一个参数指定，<strong>其余的参数将作为新函数的参数供调用时使用</strong></p> <h3 id="语法-3"><a href="#语法-3" class="header-anchor">#</a> 语法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">[</span><span class="token punctuation">,</span>arg1<span class="token punctuation">[</span><span class="token punctuation">,</span>arg2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><code>arg1, arg2, ...</code>
当目标函数被调用时，预先添加到绑定函数的参数列表中的参数</p> <h3 id="thisarg-3"><a href="#thisarg-3" class="header-anchor">#</a> thisArg</h3> <p>调用绑定函数时作为this参数传递给目标函数的值。 如果使用new运算符构造绑定函数，则忽略该值。当使用<code>bind</code>在<code>setTimeout</code>中创建一个函数（作为回调提供）时，作为<code>thisArg</code>传递的任何原始值都将转换为<code>object</code>。如果bind函数的参数列表为空，执行作用域的this将被视为新函数的<code>thisArg</code>。</p> <p>返回一个原函数的拷贝，并拥有指定的<code>this</code>值和初始参数。</p> <h3 id="例子-3"><a href="#例子-3" class="header-anchor">#</a> 例子</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>    <span class="token comment">// 在浏览器中，this指向全局的 &quot;window&quot; 对象</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">81</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getX</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 81</span>

<span class="token keyword">var</span> retrieveX <span class="token operator">=</span> module<span class="token punctuation">.</span>getX<span class="token punctuation">;</span>
<span class="token function">retrieveX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 返回9 - 因为函数是在全局作用域中调用的</span>

<span class="token comment">// 创建一个新函数，把 'this' 绑定到 module 对象</span>
<span class="token comment">// 新手可能会将全局变量 x 与 module 的属性 x 混淆</span>
<span class="token keyword">var</span> boundGetX <span class="token operator">=</span> <span class="token function">retrieveX</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundGetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 81</span>
</code></pre></div><h2 id="call-apply与bind的区别"><a href="#call-apply与bind的区别" class="header-anchor">#</a> call/apply与bind的区别</h2> <p><code>call/apply</code>改变了函数的<code>this</code>上下文后马上执行该函数</p> <p><code>bind</code>则是返回改变了上下文后的函数,不执行该函数</p> <p><code>call/apply</code> 返回<code>fun</code>的执行结果</p> <p><code>bind</code>返回<code>fun</code>的拷贝，并指定了<code>fun</code>的<code>this</code>指向，保存了<code>fun</code>的参数。</p> <h2 id="共同点"><a href="#共同点" class="header-anchor">#</a> 共同点</h2> <p>改变方法中<code>this</code>的指向,减少重复代码,节省内存</p> <h2 id="引用场景"><a href="#引用场景" class="header-anchor">#</a> 引用场景</h2> <p>摘自</p> <blockquote><p><a href="http://obkoro1.com/web_accumulate/accumulate/JS/JS%E5%9F%BA%E7%A1%80-call%E5%92%8Capply%E8%BF%98%E6%9C%89bind.html" target="_blank" rel="noopener noreferrer">http://obkoro1.com/web_accumulate/accumulate/JS/JS基础-call和apply还有bind.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="判断数据类型"><a href="#判断数据类型" class="header-anchor">#</a> 判断数据类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isType</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> typeObj <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'[object String]'</span><span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Number]'</span><span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Boolean]'</span><span class="token operator">:</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Null]'</span><span class="token operator">:</span> <span class="token string">'null'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Undefined]'</span><span class="token operator">:</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Object]'</span><span class="token operator">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Array]'</span><span class="token operator">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Function]'</span><span class="token operator">:</span> <span class="token string">'function'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Date]'</span><span class="token operator">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token comment">// Object.prototype.toString.call(new Date())</span>
        <span class="token string">'[object RegExp]'</span><span class="token operator">:</span> <span class="token string">'regExp'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Map]'</span><span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Set]'</span><span class="token operator">:</span> <span class="token string">'set'</span><span class="token punctuation">,</span>
        <span class="token string">'[object HTMLDivElement]'</span><span class="token operator">:</span> <span class="token string">'dom'</span><span class="token punctuation">,</span> <span class="token comment">// document.querySelector('#app')</span>
        <span class="token string">'[object WeakMap]'</span><span class="token operator">:</span> <span class="token string">'weakMap'</span><span class="token punctuation">,</span>
        <span class="token string">'[object Window]'</span><span class="token operator">:</span> <span class="token string">'window'</span><span class="token punctuation">,</span>  <span class="token comment">// Object.prototype.toString.call(window)</span>
        <span class="token string">'[object Error]'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token comment">// new Error('1')</span>
        <span class="token string">'[object Arguments]'</span><span class="token operator">:</span> <span class="token string">'arguments'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// 借用Object.prototype.toString()获取数据类型</span>
    <span class="token keyword">let</span> typeName <span class="token operator">=</span> typeObj<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'未知类型'</span> <span class="token comment">// 匹配数据类型</span>
    <span class="token keyword">return</span> typeName <span class="token operator">===</span> type <span class="token comment">// 判断该数据类型是否为传入的类型</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token function">isType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// true</span>
    <span class="token function">isType</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'array'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// true</span>
    <span class="token function">isType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// false</span>
    <span class="token function">isType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'date'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// true</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="类数组借用数组的方法"><a href="#类数组借用数组的方法" class="header-anchor">#</a> 类数组借用数组的方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'OB'</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'Koro1'</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token string">'添加元素1'</span><span class="token punctuation">,</span> <span class="token string">'添加元素2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span>
 <span class="token comment">// {&quot;0&quot;:&quot;OB&quot;,&quot;1&quot;:&quot;Koro1&quot;,&quot;2&quot;:&quot;添加元素1&quot;,&quot;3&quot;:&quot;添加元素2&quot;,&quot;length&quot;:4}</span>
</code></pre></div><h3 id="手写apply"><a href="#手写apply" class="header-anchor">#</a> 手写<code>apply</code></h3> <div class="language-js extra-class"><pre class="language-js"><code>Function<span class="token punctuation">.</span>apply<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果这个函数处于非严格模式下，则指定为 null 或 undefined 时会自动替换为指向全局对象，原始值会被包装。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>context <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> context <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context <span class="token operator">=</span> window<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 一个数组或者类数组对象，其中的数组元素将作为单独的参数传给 func 函数</span>
  <span class="token keyword">function</span> <span class="token function">isArrayLike</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      o <span class="token operator">&amp;&amp;</span> <span class="token comment">// o不是null、undefined等</span>
      <span class="token keyword">typeof</span> o <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o是对象</span>
      <span class="token function">isFinite</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o.length是有限数值</span>
      o<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o.length为非负值</span>
      o<span class="token punctuation">.</span>length <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o.length是整数</span>
      o<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">4294967296</span>
    <span class="token punctuation">)</span>
      <span class="token comment">// o.length &lt; 2^32</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 用于临时储存函数</span>
  <span class="token keyword">const</span> define_fn <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;manael_apply&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 隐式绑定this指向到context上</span>
  context<span class="token punctuation">[</span>define_fn<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 获取参数数组</span>
  <span class="token keyword">let</span> result<span class="token punctuation">;</span>
  <span class="token comment">// 处理传进来的第二个参数</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否传递第二个参数</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isArrayLike</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>
        <span class="token string">&quot;myApply 第二个参数不为数组并且不为类数组对象抛出错误&quot;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 转为数组</span>
      result <span class="token operator">=</span> context<span class="token punctuation">[</span>specialPrototype<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行函数并展开数组，传递函数参数</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> context<span class="token punctuation">[</span>specialPrototype<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行函数</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>specialPrototype<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 删除上下文对象的属性</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span> <span class="token comment">// 返回函数执行结果</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="手写-call"><a href="#手写-call" class="header-anchor">#</a> 手写 <code>call</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>context <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> context <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// 指定为 null 和 undefined 的 this 值会自动指向全局对象(浏览器中为window)</span>
        context <span class="token operator">=</span> window
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        context <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token comment">// 值为原始值（数字，字符串，布尔值）的 this 会指向该原始值的实例对象</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> specialPrototype <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'特殊属性Symbol'</span><span class="token punctuation">)</span> <span class="token comment">// 用于临时储存函数</span>
    context<span class="token punctuation">[</span>specialPrototype<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 函数的this指向隐式绑定到context上</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> context<span class="token punctuation">[</span>specialPrototype<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过隐式绑定执行函数并传递参数</span>
    <span class="token keyword">delete</span> context<span class="token punctuation">[</span>specialPrototype<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 删除上下文对象的属性</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span> <span class="token comment">// 返回函数执行结果</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="手写-bind"><a href="#手写-bind" class="header-anchor">#</a> 手写 <code>bind</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">objThis<span class="token punctuation">,</span> <span class="token operator">...</span>params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> thisFn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 存储源函数以及上方的params(函数参数)</span>
    <span class="token comment">// 对返回的函数 secondParams 二次传参</span>
    <span class="token keyword">let</span> <span class="token function-variable function">fToBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>secondParams</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> isNew <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">fToBind</span> <span class="token comment">// this是否是fToBind的实例 也就是返回的fToBind是否通过new调用</span>
        <span class="token keyword">const</span> context <span class="token operator">=</span> isNew <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> <span class="token function">Object</span><span class="token punctuation">(</span>objThis<span class="token punctuation">)</span> <span class="token comment">// new调用就绑定到this上,否则就绑定到传入的objThis上</span>
        <span class="token keyword">return</span> <span class="token function">thisFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token operator">...</span>params<span class="token punctuation">,</span> <span class="token operator">...</span>secondParams<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用call调用源函数绑定this的指向并传递参数,返回执行结果</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>thisFn<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 复制源函数的prototype给fToBind 一些情况下函数没有prototype，比如箭头函数</span>
        fToBind<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>thisFn<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fToBind<span class="token punctuation">;</span> <span class="token comment">// 返回拷贝的函数</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/17/2020, 10:18:07 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/javascript-jin-jie/javascript-jin-jie--nc/javascript-ji-cheng.html" class="prev">
        JavaScript 继承
      </a></span> <span class="next"><a href="/javascript-jin-jie/javascript-jin-jie--nc/javascript-yi-bu.html">
        JavaScript 异步编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="reading-progress top" data-v-56679cca><div class="progress" data-v-56679cca></div></div><!----></div></div>
    <script src="/assets/js/app.d97aa468.js" defer></script><script src="/assets/js/2.b8ed37c3.js" defer></script><script src="/assets/js/97.cc728fc4.js" defer></script>
  </body>
</html>
