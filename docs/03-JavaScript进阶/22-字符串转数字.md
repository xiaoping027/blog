# JS 字符串转数字

## parseInt

`parseInt(string, radix)` 将一个字符串 `string` 转换为 `radix` 进制的整数， `radix` 为介于 `2-36` 之间的数。

要求 `VALUE` 是字符串（不是字符串先默认转换为字符串），从字符串左边开始查找，找到有效数字字符转换为数字（遇到一个非有效的数字字符，则停止查找，所以小数点也属于非有效数字）

- string
  要被解析的值。如果参数不是一个字符串，则将其转换为字符串(使用 ToString 抽象操作)。字符串开头的空白符将会被忽略。

- `radix` 可选
  从 2 到 36，代表该进位系统的数字。例如说指定 10 就等于指定十进位。请注意，通常预设值不是 10 进位

## parseFloat

`parseInt()`函数类似，`parseFloat()`也是从第一个字符(位置 `0`)开始解析每个字符。而且也是一直解析到末尾，或者解析到遇见一个无效的浮点数字字符为止。也就是说，遇到的第一个小数点是有效的，而第二个小数点就是无效的了，因此它后面的字符将被忽略

两个 `parseInt()、parseFloat()`都是专门用于把字符串转换为数字(不是字符串先默认转换为字符串)

而 `Number()`可以用于任何数据类型

## Number()

函数的转换规则如下：

(1).如果是 `Boolean` 值，`true` 和 `false` 将分别被转换为 1 和 0。
(2).如果是数字值，只是简单的传入和返回。

(3).如果是 `null` 值，返回 `0`。

(4).如果是 `undefined`，返回 `NaN`。

(5).如果是字符串，遵循下列规则：

如果字符串中只包含数字（包括前面带加号或负号的情况），则将其转换为十进制数值，即"1"会变成 1，"123"会变成 123，而"011"会变成 11（注意：前导的零被忽略了）；

如果字符串中包含有效的浮点格式，如"1.1"，则将其转换为对应的浮点数值（同样，也会忽略前导零）；

如果字符串中包含有效的十六进制格式，例如"0xf"，则将其转换为相同大小的十进制整数值；

如果字符串是空的（不包含任何字符），则将其转换为 0；

如果字符串中包含除上述格式之外的字符，则将其转换为 `NaN`。

(6).如果是对象，则调用对象的 valueOf()方法，然后依照前面的规则转换返回的值。如果转换的结果是 NaN，则调用对象的 toString()方法，然后再次依照前面的规则转换返回的字符 串值。

根据这么多的规则使用 Number()把各种数据类型转换为数值确实有点复杂。下面还是给出几个具体的例子吧。

```js
var num1 = Number("Hello world!"); //NaN
var num2 = Number(""); //0
var num3 = Number("000011"); //11
var num4 = Number(true); //1
```

## 按位非

```js
~~1.23; // returns 1
~~"1.23"; // returns 1
~~"23"; // returns 23
~~"Hello world"; // returns 0
```

通过翻转每个位，也称为数字的 `A1` 补码。你可以使用它，但注意只能用来存储整数。所以通常情况不要用它，除非你能确定这个数是在 `32` 位整数之间的值（因为调用的 `ToInt32` 的规范）

按位非：用它确保输入中没有字符，仅用于整数。

## 一元运算符

```js
"1.23" * 1; // returns 1.23
"0xFF" - 0; // returns 255
"0xFF.jpg" / 1 + // returns NaN
  "023"; // returns 23
```

一元运算符与其它的解析方式不同，如果是一个 `NaN` 值，那么返回的也是 `NaN` 。这是我最喜欢的数值转换方式，因为我认为任何带有字符的对象都不应该被视为 `0` 或者根据他有多少位来“猜”。基本使用 `+`操作符，因为这个方式不容易混淆。虽然 `-0` 的用法也很好，但它并没有很好的表达转换为数字的本意。
