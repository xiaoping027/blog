# 移动端 touch 事件

触摸事件有三个接口 (`Touch, TouchEvent 和 TouchList`) 和以下事件类型:

- touchstart - 当触摸点放置在触摸面上时触发。
- touchmove - 当触摸点沿触摸表面移动时触发。
- touchend - 当触摸点从触摸表面移除时触发。Ø
- touchcancel - 当触摸点以实现特定的方式中断（例如，创建的触摸点太多）时触发。Ø

`Touch` 接口表示触敏设备上的单个接触点。接触点通常被称为触摸点或仅仅是触摸点。触摸通常由触摸屏，笔或触控板上的手指或触控笔产生。触摸点的属性包括唯一标识符，触摸点的目标元素以及触摸点相对于视口，页面和屏幕的位置的 `X` 和 `Y` 坐标。

`TouchList` 接口表示触摸表面上的触点的列表。因此，如果用户用一根手指触摸触控表面，则该列表将包含一个触点，并且如果用户用三个手指触摸该表面，则列表长度将为三个。

`TouchEvent` 接口表示当触控屏上触点的状态发生改变时会发送的事件。当与触控屏开始接触时状态开始改变，移动触摸点且手指在触控屏上，释放触点然后退出触摸事件。这个接口的属性包括几个修饰键的状态（例如 `shift` 键）和下面的触摸列表

## 延迟

`300` 毫秒延迟的主要原因是解决双击缩放(`double tap to zoom`)。

双击缩放，顾名思义，即用手指在屏幕上快速点击两次，`iOS` 自带的 `Safari` 浏览器会将网页缩放至原始比例。 那么这和 300 毫秒延迟有什么联系呢？

假定这么一个场景。用户在 `iOS Safari` 里边点击了一个链接。由于用户可以进行双击缩放或者双击滚动的操作，当用户一次点击屏幕之后，浏览器并不能立刻判断用户是确实要打开这个链接，还是想要进行双击操作。因此，`iOS Safari` 就等待 `300` 毫秒，以判断用户是否再次点击了屏幕。 鉴于 `iPhone` 的成功，其他移动浏览器都复制了 `iPhone Safari` 浏览器的多数约定，包括双击缩放，几乎现在所有的移动端浏览器都有这个功能。

1. 添加 `viewpoint meta` 标签

```html
<meta
  name="viewport"
  content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"
/>
```

2. FastClick

> 移动端事件触发顺序：在移动端，手指点击一个元素，会经过：touchstart --> touchmove -> touchend -->click。

`fastclick.js` 的原理是：`FastClick` 的实现原理是在检测到 `touchend` 事件的时候，会通过 `DOM` 自定义事件立即出发模拟一个 `click` 事件，并把浏览器在 `300ms` 之后真正的 `click` 事件阻止掉。

- 点透现象：当`A/B` 两个层上下 `z` 轴重叠，上层的 `A` 点击后消失或移开（这一点很重要），并且 `B` 元素本身有默认 click 事件（如 `a` 标签）或绑定了 `click` 事件。在这种情况下，点击 `A/B` 重叠的部分，就会出现点透的现象。点透现象的关键点：

`A/B` 两个层上下 `z` 轴重叠。

上层的`A` 点击后消失或移开。（这一点很重要）

`B`元素本身有默认 `click` 事件（如 `a` 标签） 或 `B` 绑定了 `click` 事件。

在以上情况下，点击 `A/B` 重叠的部分，就会出现点透的现象。
